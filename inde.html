<html>
    <body>
<?php

// SQLite database file
$databaseFile = 'example.db';

// Create a new SQLite connection
try {
    $db = new SQLite3($databaseFile);
} catch (Exception $e) {
    die('Connection failed: ' . $e->getMessage());
}

// Create a table (if not exists)
$queryCreateTable = "
    CREATE TABLE IF NOT EXISTS users (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        username TEXT NOT NULL,
        email TEXT NOT NULL
    )
";
$db->exec($queryCreateTable);

// Insert some sample data (if not exists)
$queryInsertData = "
    INSERT INTO users (username, email)
    VALUES
        ('john_doe', 'john@example.com'),
        ('jane_doe', 'jane@example.com')
";
$db->exec($queryInsertData);

// Select data from the table
$querySelectData = "SELECT * FROM users";
$result = $db->query($querySelectData);

// Display the results
echo "<h2>User Data:</h2>";
echo "<table border='1'>";
echo "<tr><th>ID</th><th>Username</th><th>Email</th></tr>";

while ($row = $result->fetchArray(SQLITE3_ASSOC)) {
    echo "<tr>";
    echo "<td>" . $row['id'] . "</td>";
    echo "<td>" . $row['username'] . "</td>";
    echo "<td>" . $row['email'] . "</td>";
    echo "</tr>";
}

echo "</table>";

// Close the database connection
$db->close();

?>
</body>
</html>